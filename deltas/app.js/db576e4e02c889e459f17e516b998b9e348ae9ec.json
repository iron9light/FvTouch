["/*5e5d0d548e6e35b0853a405e624ad9147b440f71",42,214815,"Id(",216879,122,220619,41,218698,82,215107,49,215167,142,"Id(",219501,178,"Edit",214160,56,215552,129,"(\"title\")",215693,746,"uid:d.uid,",216439,225,"if(g.task.uid){",218778,33,"a=e.findRecord(\"task_id\",c.getId());if(a.get(\"order\")!==b){console.info(this);Ext.Logger.error(\"different order when do postponetask\")}}else{",216664,53,"}",216718,156,"Id(",216879,347,"if(g.task.uid){",218778,33,"a=e.findRecord(\"task_id\",c.getId());if(a.getId()!==e.last().getId()){console.info(this);Ext.Logger.error(\"todo is not the last one when undo postponetask\")}}else{",217226,38,"}",216718,42,"g",220767,32,217340,99,"Id(",219501,122,217566,421,220027,35,",doImpl:function(){var f,",218012,58,"f=this.getCdata();b=d.findRecord(\"uid\",f",216287,42,"e=a.get(\"preselected\");if(Ext.isBoolean(f.preselected)&&f.preselected!==e){console.info(this);Ext.Logger.error(\"different preselected value when do preselect\")}a.set(\"preselected\",!",218192,49,"var f,",218012,58,"f=this.getCdata();b=d.findRecord(\"uid\",f",216287,42,"e=a.get(\"preselected\");if(Ext.isBoolean(f.preselected)&&f.preselected===e){console.info(this);Ext.Logger.error(\"same preselected value when undo preselect\")}a.set(\"preselected\",!e);a.save(",224378,33,218277,239,"getId()",218523,380,"getId()",218910,100,"Id(",216879,122,220619,41,219178,318,"Id(",219501,446,"getId()",219954,53,220028,58,"e,b,d,a,c;d=Ext.getStore(\"Tasks\");e=this.getCdata();b=d.findRecord(\"uid\",e.task.uid);b.set(\"status\",\"running\");b",220204,34,"b.save();c=Ext.getStore(\"Todos\");a=c.findRecord(\"task_id\",b.getId());if(!e",217035,39,"true);a.save();return c.sync()}},un",220064,128,220766,101,"getId()",220874,52,";a.save();e.sync()}b=h.todo.order;if(b===void 0||b===null){return}",220942,105,"Id(",221052,49,"Id(",221106,19277,240941,259,"this.fireEvent(\"do\",c",241259,139,"this.fireEvent(\"undo\",c",241459,311,255102,73,"TitleBar",333296,33,"title",221306,52,",\"Ext.util.SizeMonito",221356,63,"cls:Ext.baseCSSPrefix+\"navigation-",221414,66,"},items:[]},maxButtonWidth:\"40%\",constructor:function(){this.refreshTitlePosition=Ext.Function.createThrottled(this.refreshTitlePosition,50,this);this.callParent(arguments)},beforeInitialize:function(){this.applyItems=this.applyInitialItems},initialize:function(){delete this.applyItems;this.add(this.initialItems);delete this.initialItems;this.on({painted:\"refreshTitlePosition\",single:true})},applyInitialItems:function(a){var b=this,c=b.getDefaults()||{};b.initialItems=a;b.leftBox=b.add({xtype:\"container\",style:\"position: relative",221459,37,",listeners:{resize:\"refreshTitlePosition\",scope:b}});b.spacer=b.add({xtype:\"component\",style:\"position: relative\",flex:1,listeners:{resize:\"refreshTitlePosition\",scope:b}});b.rightBox=b.add({xtype:\"container\",style:\"position: relative",221459,37,",listeners:{resize:\"refreshTitlePosition\",scope:b}});b.titleComponent=b.add({xtype:\"title\",hidden:c.hidden,centered:true});b.doAdd=b.doBoxAdd;b.remove=b.doBoxRemove;b.doInsert=b.doBoxInsert},doBoxAdd:function(a){if(a.config.align==\"right\"){this.rightBox.add(a)}else{this.leftBox.add(a)}},doBoxRemove:function(a){if(a.config.align==\"right\"){this.rightBox.remove(a)}else{this.leftBox.remove(a)}},doBoxInsert:function(a,b){if(b.config.align==\"right\"){this.rightBox.add(b)}else{this.leftBox.add(b)}},getMaxButtonWidth:function(){var a=this.maxButtonWidth;if(Ext.isString(this.maxButtonWidth)){a=parseInt(a.replace(\"%\",\"\"),10);a=Math.round((this.element.getWidth()/100)*a)}return a},refreshTitlePosition:function(){var f=this.titleComponent.renderElement;f.setWidth(null);f.setLeft(null);var a=this.leftBox,c=a.down(\"button\"),h,m;if(c){if(c.getWidth()==null){c.renderElement.setWidth(\"auto\")}h=a.renderElement.getWidth();m=this.getMaxButtonWidth();if(h>m){c.renderElement.setWidth(m)}}var j=this.spacer.renderElement.getPageBox(),k=f.getPageBox(),g=k.width-j.width,d=k.left,i=k.right,b,l,e;if(g>0){f.setWidth(j.width);b=g/2;d+=b;i-=b}l=j.left-d;e=i-j.right;if(l>0){f.setLeft(l)}else{if(e>0){f.setLeft(-e)}}f.repaint()},updateTitle:function(a){this.titleComponent.setTitle(a);",169470,33,"TitlePosition()}",241750,13352,255175,11833,267981,7712,293821,35,240410,93,"striped:false,active:false,text:\"\",html:'<div class=\"x-progress-text x-progress-text-back\"></div>\\n<div class=\"bar\">\\n  <div class=\"x-progress-text\"></div>\\n</div>',value:0",272223,42,"return this.on({painted:\"onResize\",resize:\"onResize\",scope:this})},updateValue:function(c,a){var b;if(c===a){return}if(c<0){c=0}if(c>100){c=100}b=\"\"+c+\"%\";return this.element.down(\"* .bar\").setWidth(b",240697,221,",updateText:function(b,a){if(b===a){return}return Ext.Array.each(this.element.query(\".x-progress-text\"),function(c){return Ext.fly(c).setHtml(b)})},onResize:function(){return this.element.down(\".bar .x-progress-text\").setWidth(this.element.getWidth())",266988,993,275697,1604,"b.id===\"historyview\"?\"history",277299,236,"3],preselected:a[0],running:a[1],history:a[2",277566,279,281551,38,277917,316,"launch:function(){return this.chooseLunchView(",278230,344,"],cmdUndoListeners:[]",279023,291,"Preselected",279318,56,"1",279307,70,",chooseLunchView:function(){if(Ext.getStore(\"Runnings\").getCount()",278269,32,"else{if(Ext.getStore(\"Todos\").findRecord(\"preselected\",true)){return this.gotoPreselectedView()}else{return ",277845,33,"}}",279376,311,",pullup:\"onPullup",279686,195,"\"refresh\",undo:\"refresh\",scope:this,order:\"before\"})},refresh",280049,38,"Proxy\").refresh(",280035,1663,",onPullup",238249,56,"Main\").gotoPreselectedView",238383,37,"PreselectedList",238062,65,"Manager\"]",279817,64,"\"refresh\",undo:\"refresh\",scope:this,order:\"before\"})},refresh",280049,33,"Preselecteds\").refresh",238383,37,"RunningList",238062,65,"Manager\",\"Ext.ActionSheet\"],relatedtasks:[\"deletetask\",\"edittask\",\"postponetask\",\"starttask\",\"taskdone",279476,33,"runningview:\"runningview\"},control:{runningview:{\"break\":\"onBreak",279728,70,"}}},init:function(){",277886,49,"f){var e,a,d,c,b;c=f.getType();d=Ext.getStore(\"Timers\");if(Ext.Array.contains([\"deletetask\",\"postponetask\",\"taskdone\"],c)){b=f.getCdata().task.uid;a=[];d.each(function(g){if(g.get(\"uid\")===b){return a.push(g)}});if(a.length){return d.remove(a)}}else{if(c===\"starttask\"){e=f.getCdata();b=e.task.uid;return d.add({uid:b,time:f.getCtime(),type:\"go\"})}}},undo:function(h){var g,b,a,f,e,d,c;d=h.getType();e=Ext.getStore(\"Timers\");if(Ext.Array.contains([\"deletetask\",\"postponetask\",\"taskdone\"],d)){g=h.getCdata();if(g.task.status===\"running\"){c=h.getCdata().task.uid;f=Ext.getStore(\"Tasks\");a=f.findRecord(\"uid\",c);return e.add({uid:c,time:a.get(\"starttime\"),type:\"go\"})}}else{if(d===\"starttask\"){g=h.getCdata();c=g.task.uid;b=[];e.each(function(i){if(i.get(\"uid\")===c){return b.push(i)}});if(b.length){return e.remove(b)}}}},scope:this,order:\"before\"});",281551,38,"on({\"do\":\"refreshIfRelated\",undo:\"refreshIfRelated\",scope:this,order:\"before\"})},refreshIfRelated:function(b){var a;a=b.getType();if(Ext.Array.contains(this.relatedtasks,a)){return this.refresh()}},refresh",280049,33,"Runnings\").refresh()},onBreak:function(a,b){var f,e,d,c;c=a.get(\"uid\");d=Ext.getStore(\"Timers\");f=d.findRecord(\"uid\",c);if(f){e=f.get(\"type\")===\"go\"?\"break\":\"go\"}else{d.add({uid:c,time:a.get(\"starttime\"),type:\"go\"});e=\"break\"}d.add({uid:c,time:Date.now(),type:e});return b.updateTimer(a",280888,95,280988,168,281161,176,281342,173,281520,100,281625,73,280274,616,239215,34,"HistoryList",238062,65,"Manager\"]",279817,64,"\"refreshIfRelated\",undo:\"refreshIfRelated\",scope:this,order:\"before\"})},refreshIfRelated:function(a){if(a.getType()===\"taskdone\"){return this.refresh()}},refresh",280049,33,"History\").refresh",281695,12043,297638,10150,"itleB",307792,227,"itlebar\",items:[{align:\"left",308048,34,"align:\"right",308112,186,"itle",308301,615,"itle",308919,32,"A",308961,100,",align:\"right\"",309061,9245,"Running",318310,63,"Label",333472,38,",\"Ext.Button\",\"Ext.Date",293855,43,"items:[{xtype:\"container\",items:[{xtype:\"button\",docked:\"right\",itemId:\"breakbutton\",iconCls:\"pause\",iconMask:true,cls:\"breakbutton\"},{xtype:\"label\",itemId:\"title\",cls:\"title\"}]",293948,44,"width:\"100%\",padding:0,striped:true,active:true}],cls:\"running",318771,522,"control:{\"#breakbutton\":{tap:\"onBreak\"}},bubbleEvents:[\"break\"],listeners:{updatedata:\"onUpdateData\"}",272223,42,319471,91,"onBreak",320016,35,"break\",this.getRecord(),this",319854,155,"UpdateData:function(a,b){if(b){this.child(\"* #title\").setHtml(b.title);return this.updateTimer()}},updateTimer:function(a){var d,g,f,e,c,b;if(a==null){a=this.getRecord()}",294278,148,294455,49,294511,34,"return d.refreshAll(e,f)},1000);return this.refreshAll(e,f)},timeText:function(b){var a;a=b/3600000;a=a.toFixed(0);a=a>0?a+\":\":\"\";return a+Ext.Date.format(new Date(b),\"i:s\")},refreshAll:function(e,g){var b,f,c,a,d;a=this.child(\"#progressbar\");b=this.child(\"* #breakbutton\");c=Date.now();f=c-g;a.setText(this.timeText(f));if(e===\"go\"){d=f/15000;b.setIconCls(\"pause\");if(d>100){a.setValue(100);a.setUi(\"decline\");return b.setUi(\"confirm\")}else{a.setValue(d);a.setUi(null);return b.setUi(\"normal\")}}else{d=100-f/3000;a.setUi(\"confirm\");b.setIconCls(\"play1\");if(d<0){a.setValue(0);return b.setUi(\"confirm\")}else{a.setValue(d);return b.setUi(\"normal\")}}",294835,115,318296,1879,320993,10470,"RunningList",331475,68,"RunningItem\"],xtype:\"runninglist\",config:{store:\"Runnings\",",331562,32,"runningitem\",disableSelection:true,maxItemCache:1",331603,206,"running",331813,112,332038,47,"]",294921,86,"RunningList",295028,39,"fit\",items:[{xtype:\"running",332683,36,331463,877,"Proxy",332823,38,332378,242,",\"Ext.Label",332619,72,",initialize:function(){var a;this.callParent();a=this.child(\"todolist\");a.insert(1,{xtype:\"label\",html:\"pull up to preselected view\",cls:\"pullup\",action:\"pullup\",hidden:true});return a.getScrollable().getScroller().on({maxpositionchange:function(b,c){return this.scrollerY=c.y},scroll:function(c,b,d){if(d>(80+this.scrollerY)){this.onPullUp()}},scrollstart",308266,33,"dolist label[action=pullup]\").show()},scrollend",308266,33,"dolist label[action=pullup]\").hide()},scope:this})},onPullU",320015,36,"pullup\")",333077,40,332730,743,333510,361,320176,817,333870,25397,363529,14380,"sorters:[{property:\"ctime",377773,33,378093,38,377960,415,",autoUpdate:true",378375,1296,"if(!this.getAutoUpdate()){return}",379671,255,"if(!this.getAutoUpdate()){return}",379926,309,"if(!this.getAutoUpdate()){return}",380235,155,"if(!this.getAutoUpdate()){return}",380390,239,"f(!this.getAutoUpdate()){return}",380628,460,"refresh:function(",380233,37,"this.getStore()",380271,59,381085,1293,"sorterFn:function(k,j){var h,g,c,a,f,e,d,b,i;i=Ext.getStore(\"Tasks\");d=i.getById(k.get(\"task_id\"));b=i.getById(j.get(\"task_id\"));h=d?d.get(\"status\")===\"running\":false;g=b?b.get(\"status\")===\"running\":false;if(h&&g){f=d.get(\"starttime\");e=b.get(\"starttime\");if(f>e){return -1}else{return 1}}else{if(h){return -1}else{if(g){return 1}else{c=k.get(\"order\");a=j.get(\"order\");if(c>a){return -1}else{return 1}}}}}",382411,85,"Update:false",377792,44,382535,170,",autoUpdate:fals",377935,32,"odosProxy",382543,47,"odos\",autoUpdate:false",377792,44,"History\",{extend:\"FvTouch.StoreProxy\",requires:[\"Ext.Date\"],config:{store:\"Commands\",sorters:[{property:\"ctime\"}],filters:[{property:\"type\",value:\"taskdone\"}],grouper:{groupFn:function(a){var b;b=new Date(a.get(\"ctime\"));return Ext.Date.format(Ext.Date.clearTime(b),\"D M j Y\")},sortProperty:\"ctime\"},autoLoad:true,autoUpdate:false",359236,3910,382901,698,"Todo",383129,50,383906,206,383585,233,382736,141,"localstorage\",id:\"pomodoro",384094,1073,",\"PreselectedList\",\"RunningList\",\"HistoryList",385166,113,",\"TodosProxy\",\"History",385278,576]